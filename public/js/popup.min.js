function startupCheck(){storageCheck(),siteCheck(),bTagPlayerCheck(),regionCheck()}function storageCheck(){universeCheck()}function universeCheck(){chrome.storage.sync.get({chosenUniverse:["0","All"]},function(a){let b=a.chosenUniverse;$("#showUniverse").attr("data-universe",b[0]).text(b[1]),classCheck(b)})}function classCheck(a){chrome.storage.sync.get({chosenClass:["0","All"]},function(b){let c=b.chosenClass;$("#showClass").attr("data-class",c[0]).text(c[1]),sortLists(a,c)})}function sortLists(a,b){let c=a,d=b;$(".hero").each(function(){let f=$("a",this).data("class"),g=$("a",this).data("universe"),h=!1;if(5==f&&(h=!0),h){let i=$("a",this).data("multiclass1"),j=$("a",this).data("multiclass2");if(0<c[0])return void(c[0]==g&&(d[0]==f||d[0]==i||d[0]==j)?$(this).show(500):$(this).hide(500));if(0<d[0])return void(d[0]==f||d[0]==i||d[0]==j?$(this).show(500):$(this).hide(500))}else if(!h){if(0<d[0]&&0<c[0])return void(d[0]==f&&c[0]==g?$(this).show(500):$(this).hide(500));if(0<d[0])return void(d[0]==f?$(this).show(500):$(this).hide(500));if(0<c[0])return void(c[0]==g?$(this).show(500):$(this).hide(500))}$(this).show(500)})}function siteCheck(){chrome.storage.sync.get({chosenSite:["0","Gamepedia Wiki"]},function(a){let b=a.chosenSite;$("#showSite").attr("data-site",b[0]).text(b[1])})}function bTagPlayerCheck(){chrome.storage.sync.get({chosenBnetPlayer:""},function(a){let b=a.chosenBnetPlayer;$("#search_players").val(b)})}function regionCheck(){chrome.storage.sync.get({chosenRegion:["1","US"]},function(a){let b=a.chosenRegion;$("#showRegion").attr("data-region",b[0]).text(b[1])})}var Player_info_array=["https://www.hotslogs.com/Player/Profile?PlayerID=&playerId&"];$("#search_players").keypress(function(a){if(32===a.which)return!1});var Hero_Font_array=["https://heroesofthestorm.gamepedia.com/&hero&","https://www.heroesfire.com/hots/wiki/heroes/&hero&","https://www.icy-veins.com/heroes/&hero&-build-guide","https://stormspy.net/builds?hero=&hero&","https://www.hotslogs.com/Sitewide/HeroDetails?Hero=&hero&","http://www.hotsbuilds.info/&hero&","http://hotscounters.com/#/hero/&hero&","https://www.heroescounters.com/hero/&hero&","https://heroeshearth.com/hero/&hero&/","https://psionic-storm.com/en/heros/&hero&/"];$(function(){$("body").css("margin",1),startupCheck();let a=chrome.app.getDetails(),b=a.version;$.getJSON("https://scias.net/hotses/info.json",function(d){let f=d.version;b===f?($(".version_about").children("b").css("color","green").text(b),$(".version_about").attr("title",chrome.i18n.getMessage("latest_version"))):($(".version_about").children("b").css("color","red").text(b),$(".version_about").attr("title",chrome.i18n.getMessage("new_version",f))),$(".version_about").addClass("tooltip"),$(".version_about").tooltipster()}),$(".showRegion").on("click",function(){let d=$(this).data("region"),f=$(this).text();$("#showRegion").attr("data-region",d).text(f);chrome.storage.sync.set({chosenRegion:[d,f]})}),$(".showClass").on("click",function(){let d=$(this).data("class"),f=$(this).text();$("#showClass").attr("data-class",d).text(f);chrome.storage.sync.set({chosenClass:[d,f]},function(){storageCheck()})}),$(".showUniverse").on("click",function(){let d=$(this).data("universe"),f=$(this).text();$("#showUniverse").attr("data-universe",d).text(f);chrome.storage.sync.set({chosenUniverse:[d,f]},function(){storageCheck()})}),$(".showSite").on("click",function(){let d=$(this).text(),f=$(this).attr("data-site");$("#showSite").attr("data-site",f).text(d);chrome.storage.sync.set({chosenSite:[f,d]})}),$(".new_link").on("click",function(d){d.preventDefault(),chrome.tabs.create({url:$(this).attr("data-href")})}),$("#search_hero").on("keyup",function(){let d=$(this).val().toLowerCase();d=d.replace(/\lu/g,"l\xFA"),$(".hero").each(function(){let f=$("a",this).attr("i18n_title"),g=chrome.i18n.getMessage(f).toLowerCase();0<=g.indexOf(d)?$(this).show(500):$(this).hide(500)})}),$("#search_players").on("keyup",function(d){let f=d.keyCode||d.which,g=$("#search_players").val();if(chrome.storage.sync.set({chosenBnetPlayer:g}),13==f){let h=$("#showRegion").data("region"),i=$("#showPlayers").data("info");g=$("#search_players").val(),g=g.replace(/#/g,"_");let k="https://api.hotslogs.com/Public/Players/&region&/&battletag&".replace(/&region&/g,h),l=k.replace(/&battletag&/g,g);$.getJSON(l,function(m){let n=m.PlayerID,o=Player_info_array[i],p=o.replace(/&playerId&/g,n);chrome.tabs.create({url:p})})}}),$(".hero-tab").on("click",function(){let d=$("#showSite").attr("data-site"),f="",g=!1,h=!1,i=!1,j=!1;switch(d){case"1":i=!0,g=!0;break;case"2":i=!0;break;case"3":j=!0;break;case"4":break;case"5":break;case"6":i=!0,h=!0;break;case"7":i=!0,h=!0;break;case"8":case"9":i=!0,g=!0;}i?(f=$(this).data("lower"),(g||h)&&(f=f.replace(/\./g,""),f=f.replace(/\'/g,""),h&&(f=f.replace(/\-/g,""))),"2"===d&&$(this).data("icy")&&(f=$(this).data("icy"))):j?f=$(this).data("id"):f=$(this).data("title");let k=Hero_Font_array[d],l=k.replace(/&hero&/g,f);chrome.tabs.create({url:l})}),$(".tooltip").tooltipster(),$(".tooltip_modal").tooltipster({position:"top"}),$(document).on("click",".open-about",function(){$("#aboutModal").reveal({animation:"fade",animationspeed:300,closeonbackgroundclick:!1})})});
